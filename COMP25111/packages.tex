% Tell me about my LaTeX bad practices
\usepackage[l2tabu, orthodox]{nag}
% For line brakes in tables
\usepackage{tabularx}
% For the split environment
\usepackage{amsmath}
% For tabs in verbatim
\usepackage{moreverb}
% Means you don't have to put \\ to start a new line.
\usepackage[parfill]{parskip}
% Gives us units such as \kilo\byte
\usepackage[binary-units]{siunitx}
% For drawing stacks
\usepackage{drawstack}
% For urls
\usepackage[hyphenbreaks]{breakurl}
% For putting floats in their place
% For graphics
\usepackage{graphicx}
% For splitting long lists into columns
\usepackage{multicol}
% For no multicol on the kindle
\usepackage{environ}
\newif\ifmulticols
\NewEnviron{mymulticols}{
\ifmulticols
  \begin{multicols}{2}
    \BODY
  \end{multicols}
\else
  \BODY
\fi}
% Make LaTeX pretty with better kerning etc
\usepackage{microtype}

% Set up listings
\usepackage{color}
\usepackage{xcolor}
\usepackage{listings}
\usepackage{caption}
\usepackage[T1]{fontenc}
\usepackage[variablett]{lmodern}
\definecolor{OliveGreen}{RGB}{60,128,49}
\DeclareCaptionFont{white}{\color{white}}
\DeclareCaptionFormat{listing}{\colorbox{gray}{\parbox{\textwidth}{#1#2#3}}}
\captionsetup[lstlisting]{format=listing,labelfont=white,textfont=white}
\lstset{language=Java,captionpos=b,tabsize=1,frame=lines,keywordstyle=\color{blue},commentstyle=\color{OliveGreen},stringstyle=\color{red},numbers=left,numberstyle=\tiny,numbersep=1pt,breaklines=true,showstringspaces=false,basicstyle=\footnotesize,emph={label}}